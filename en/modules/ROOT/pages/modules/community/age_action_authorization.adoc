[[decidimageactionauthorization]]
Decidim::AgeActionAuthorization
-------------------------------

A Decidim based action authorization to check user's age inside actions.
The Decidim
https://github.com/decidim/decidim/blob/5e5377b4dbb7bfb73f916d7d0a7c41014ac1960f/decidim-verifications/lib/decidim/verifications/default_action_authorizer.rb[Default
Action Authorizer] only allows comparing items that are equal to an
expected value.

This authorization checks a metadata field named _birthday_ in the
AuthorizationHandler used and compares the value against a minimum age
defined in the provided JSON for the action authorizer. The JSON field
is named _edad_.

E.g: `{"edad": 20 }`.

By default the minimum age is 18 years old if no JSON is provided.

[[installation]]
Installation
~~~~~~~~~~~~

Add this line to your application's Gemfile:

[source,ruby]
----
gem 'decidim-age_action_authorization'
----

And then execute:

....
$ bundle
....

Or install it yourself as:

....
$ gem install decidim-age_action_authorization
....

[[usage]]
Usage
~~~~~

In the workflow configuration add the AgeActionAuthorization as the
workflow's action authorizer:

[source,ruby]
----
Decidim::Verifications.register_workflow(:authorization_handler) do |workflow|
  workflow.form = 'AuthorizationHandler'
  workflow.action_authorizer = 'Decidim::AgeActionAuthorization::Authorizer'
end
----
